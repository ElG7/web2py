# -*- coding: utf-8 -*-


db.define_table('tag',
                Field('name'),requires=IS_NOT_EMPTY(error_message="Ingrese una categoría."))

db.define_table('post',
            Field('posted_by','reference auth_user',readable=False,writable=False),
            Field('title','string', label="Título",
            requires=IS_NOT_EMPTY(error_message="Ingrese un título.")),
            Field('body','text', label="Cuerpo",
            requires=IS_NOT_EMPTY(error_message="Escriba el contenido.")),
            Field('image', 'upload' , label="Imagen"),
            Field('posted_on','datetime',readable=False,writable=False),
            auth.signature)

db.define_table('comm',
                Field('post','reference post',readable=False,writable=False),
                Field('body','text',label="Cuerpo",
                requires=IS_NOT_EMPTY(error_message="Escriba el comentario.")),
                Field('posted_on','datetime',readable=False,writable=False),
                Field('posted_by','reference auth_user',readable=False,writable=False))
